<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">
    <t t-name="sensible_pos_access_rights_employee.ControlButtons" t-inherit="point_of_sale.ControlButtons" t-inherit-mode="extension">
        <xpath expr="//SelectPartnerButton" position="before">
            <!-- Always use user_id, fallback to cashier if user_id not available -->
            <t t-set="currentUser" t-value="pos.user_id or pos.cashier"/>
        </xpath>
        <xpath expr="//SelectPartnerButton" position="attributes">
            <attribute name="t-if">!currentUser.sbl_hide_pos_customer_selection_button and !props.showRemainingButtons</attribute>
        </xpath>
        <xpath expr="//button[@t-on-click='props.onClickMore']" position="attributes">
            <attribute name="t-if">!currentUser.sbl_hide_pos_actions_button and !props.showRemainingButtons and !ui.isSmall and props.onClickMore</attribute>
        </xpath>
    </t>
</templates>